<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/pestanas/tab1"></ion-back-button>
    </ion-buttons>
    <ion-title>Empresa</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content class="ion-padding" *ngIf="empresa">
  <ion-card>
    <ion-card-header>
      <ion-avatar *ngIf="empresa.logo_url" style="width: 80px; height: 80px; margin: 0 auto 16px;">
        <img [src]="empresa.logo_url" [alt]="empresa.razon_social">
      </ion-avatar>
      <ion-card-title>{{ empresa.razon_social }}</ion-card-title>
      <ion-card-subtitle>{{ empresa.sector }} • {{ empresa.ciudad }}</ion-card-subtitle>
    </ion-card-header>
    <ion-card-content>
      <ion-item lines="none" *ngIf="empresa.nit">
        <ion-label>
          <h3>NIT</h3>
          <p>{{ empresa.nit }}</p>
        </ion-label>
      </ion-item>
      <ion-item lines="none" *ngIf="empresa.representante_legal">
        <ion-label>
          <h3>Representante Legal</h3>
          <p>{{ empresa.representante_legal }}</p>
        </ion-label>
      </ion-item>
      <ion-item lines="none" *ngIf="empresa.correo_corporativo">
        <ion-label>
          <h3>Correo</h3>
          <p>{{ empresa.correo_corporativo }}</p>
        </ion-label>
      </ion-item>
      <ion-item lines="none" *ngIf="empresa.telefono">
        <ion-label>
          <h3>Teléfono</h3>
          <p>{{ empresa.telefono }}</p>
        </ion-label>
      </ion-item>
      <ion-item lines="none" *ngIf="empresa.tamano">
        <ion-label>
          <h3>Tamaño</h3>
          <p>{{ empresa.tamano }}</p>
        </ion-label>
      </ion-item>
      <ion-item lines="none" *ngIf="empresa.sitio_web">
        <ion-label>
          <h3>Sitio Web</h3>
          <p><a [href]="empresa.sitio_web" target="_blank">{{ empresa.sitio_web }}</a></p>
        </ion-label>
      </ion-item>
      <ion-item lines="none" *ngIf="empresa.descripcion">
        <ion-label>
          <h3>Descripción</h3>
      <p>{{ empresa.descripcion }}</p>
        </ion-label>
      </ion-item>
    </ion-card-content>
  </ion-card>
  <ion-card>
    <ion-card-header>
      <ion-card-title>Vacantes</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-list>
        <ion-item *ngFor="let v of vacantes" [routerLink]="['/vacante', v.id]">
          <ion-label>
            <h2>{{ v.titulo }}</h2>
            <p>{{ v.descripcion }}</p>
          </ion-label>
        </ion-item>
        <ion-item *ngIf="vacantes.length === 0">
          <ion-label>No hay vacantes publicadas</ion-label>
        </ion-item>
      </ion-list>
    </ion-card-content>
  </ion-card>
  <ion-card>
    <ion-card-header>
      <ion-card-title>Noticias</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-list>
        <ion-item *ngFor="let n of noticias">
          <ion-label>
            <h2>{{ n.titulo }}</h2>
            <p *ngIf="n.contenido && n.contenido.trim()">{{ n.contenido }}</p>
            <p *ngIf="!n.contenido && n.resumen && n.resumen.trim()">{{ n.resumen }}</p>
          </ion-label>
        </ion-item>
        <ion-item *ngIf="noticias.length === 0">
          <ion-label>No hay noticias publicadas</ion-label>
        </ion-item>
      </ion-list>
    </ion-card-content>
  </ion-card>
</ion-content>
