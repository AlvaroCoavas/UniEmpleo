<ion-header>
  <ion-toolbar>
    <ion-title>Chat</ion-title>
    <ion-buttons slot="end" *ngIf="rol === 'empresa'">
      <ion-button [routerLink]="['/solicitudes']">
        <ion-label>Solicitudes</ion-label>
        <ion-badge color="danger" *ngIf="solicitudesCount > 0"
          >{{ solicitudesCount }}</ion-badge
        >
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-grid>
    <ion-row>
      <ion-col size="12">
        <ion-card>
          <ion-card-header>
            <ion-card-title>Contactos</ion-card-title>
            <ion-buttons slot="end" *ngIf="rol === 'empresa'">
              <ion-button [routerLink]="['/solicitudes']">
                <ion-label>Solicitudes</ion-label>
                <ion-badge color="danger" *ngIf="solicitudesCount > 0"
                  >{{ solicitudesCount }}</ion-badge
                >
              </ion-button>
            </ion-buttons>
          </ion-card-header>
          <ion-card-content>
            <ion-segment
              [(ngModel)]="tipoListado"
              (ionChange)="cargarCuentas()"
            >
              <ion-segment-button value="personas"
                ><ion-label>Personas</ion-label></ion-segment-button
              >
              <ion-segment-button value="empresas"
                ><ion-label>Empresas</ion-label></ion-segment-button
              >
            </ion-segment>
            <ion-list>
              <ion-item
                button
                (click)="abrirMensajes(u)"
                *ngFor="let u of cuentas"
              >
                <ion-label>
                  <h2>{{ u.nombre_completo || u.razon_social }}</h2>
                  <p>
                    {{ u.correo || u.correo_corporativo }} â€¢ {{ u.ciudad ||
                    u.sector }}
                  </p>
                </ion-label>
              </ion-item>
              <ion-item *ngIf="cuentas.length === 0">
                <ion-label>
                  <p>No hay contactos para mostrar</p>
                </ion-label>
              </ion-item>
            </ion-list>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
